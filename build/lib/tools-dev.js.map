{
  "version": 3,
  "sources": ["../../src/lib/tools-dev.ts"],
  "sourcesContent": ["import axios from 'axios';\n\n/**\n * Tests whether the given variable is really an Array\n * @param it The variable to test\n */\nexport function isArray (it: unknown): it is unknown[] {\n  if (Array.isArray !== null) return Array.isArray(it);\n  return Object.prototype.toString.call(it) === '[object Array]';\n}\n\n/**\n * Translates text using the Google Translate API\n * @param text The text to translate\n * @param targetLang The target languate\n */\nexport async function translateText (text: string, targetLang: string): Promise<string> {\n  if (targetLang === 'en') return text;\n  try {\n    const url = `http://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=${targetLang}&dt=t&q=${encodeURIComponent(text)}&ie=UTF-8&oe=UTF-8`;\n    const response = await axios<unknown[][][]>({ url, timeout: 5000 });\n    if (isArray(response.data)) {\n      // we got a valid response\n      return response.data[0][0][0] as string;\n    }\n    throw new Error('Invalid response for translate request');\n  } catch (e) {\n    throw new Error(`Could not translate to \"${targetLang}\": ${e}`);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAMX,SAAS,QAAS,IAA8B;AACrD,MAAI,MAAM,YAAY,KAAM,QAAO,MAAM,QAAQ,EAAE;AACnD,SAAO,OAAO,UAAU,SAAS,KAAK,EAAE,MAAM;AAChD;AAOA,eAAsB,cAAe,MAAc,YAAqC;AACtF,MAAI,eAAe,KAAM,QAAO;AAChC,MAAI;AACF,UAAM,MAAM,0EAA0E,UAAU,WAAW,mBAAmB,IAAI,CAAC;AACnI,UAAM,WAAW,UAAM,aAAAA,SAAqB,EAAE,KAAK,SAAS,IAAK,CAAC;AAClE,QAAI,QAAQ,SAAS,IAAI,GAAG;AAE1B,aAAO,SAAS,KAAK,CAAC,EAAE,CAAC,EAAE,CAAC;AAAA,IAC9B;AACA,UAAM,IAAI,MAAM,wCAAwC;AAAA,EAC1D,SAAS,GAAG;AACV,UAAM,IAAI,MAAM,2BAA2B,UAAU,MAAM,CAAC,EAAE;AAAA,EAChE;AACF;",
  "names": ["axios"]
}
